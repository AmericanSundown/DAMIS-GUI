{% extends 'BaseMainBundle::layout.html.twig' %}
{% block stylesheets %}
    {{ parent() }}
    {% stylesheets 'bundles/damisexperiment/css/*' filter='cssrewrite' %}
        <link rel="stylesheet" href="{{ asset_url }}" />
    {% endstylesheets %}
{% endblock %}
{% block body %}
    <div id="workflow-editor-container">
        <div id="toolbox-container">
            <ul class="nav nav-tabs" id="cluster-tabs">
                {% for cluster in clusters %}
                <li id="cluster-{{ cluster.getClusterId }}-tab" {% if loop.index == 1 %}class="active"{% endif %}>
                    <a href="#">{{ cluster.getClustername }}</a>
                    <span>
                        <i class="component-tooltip cluster-tooltip icon-info-sign" data-placement="bottom"
                           data-content="{{ cluster.getDesciption }}" style="cursor: pointer">
                            <span style="display: none;">Cluster information</span>
                        </i>
                    </span>
                </li>
                {% endfor %}
            </ul>
            <div id="toolbox">
                {% for cluster in clusters %}
                    <div id="cluster-{{ cluster.getClusterId }}-panel" {% if loop.index != 1 %}style="display:none"{% endif %}>
                        {% for category in componentsCategories %}
                        {% spaceless %}
                            <h3 {% if loop.index == 1 %}class="first"{% endif %}>
                                {{ category.getType | trans({}, 'ExperimentBundle') }}
                            </h3>
                            <div style="padding: 0;">
                                <div class="tools-padding">
                                {% for component in components
                                    if (component.clusterId == cluster and component.typeId == category) %}
                                    <div class="prototype-box">
                                        <img src="{{ asset('bundles/damisexperiment/images/' ~ component.getIcon) }}"
                                             width="64px" height="64px" />
                                        <i style="cursor:pointer; " class="component-tooltip icon-info-sign"
                                           data-placement="bottom" data-content="Upload file for data analysis"
                                           data-original-title="" title="">
                                            <span style="display: none;">Upload New File</span>
                                        </i>
                                        <div class="desc">
                                            <div>Upload New File</div>
                                        </div><input type="hidden" value="18"></div>
                                {% endfor %}
                                </div>
                            </div>
                        {% endspaceless %}
                        {% endfor %}

                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {% javascripts '@DamisExperimentBundle/Resources/public/js/*' %}
        <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}